{% extends "base.html" %}
{% block content %}

<div class="card card-soft p-4">
  <h4 class="mb-3">Actualizar Calificación</h4>

  <form method="POST">
    {% csrf_token %}

    <div class="mb-3">
      <label class="form-label">Producto</label>
      <select name="producto" class="form-select">
        {% for p in productos %}
          <option value="{{ p.id_producto }}" {% if p.id_producto == calificacion.producto.id_producto %}selected{% endif %}>
            {{ p.nombre }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Vendedor</label>
      <select name="vendedor" class="form-select">
        {% for v in vendedores %}
          <option value="{{ v.id_vendedor }}" {% if v.id_vendedor == calificacion.vendedor.id_vendedor %}selected{% endif %}>
            {{ v.nombre }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Usuario</label>
      <select name="usuario" class="form-select">
        {% for u in usuarios %}
          <option value="{{ u.id_usuario }}" {% if u.id_usuario == calificacion.usuario.id_usuario %}selected{% endif %}>
            {{ u.nombre }} {{ u.apellido }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Puntuación</label>
      <input type="number" name="puntuacion" class="form-control" value="{{ calificacion.puntuacion }}" min="1" max="5">
    </div>

    <div class="mb-3">
      <label class="form-label">Comentario</label>
      <textarea name="comentario" class="form-control" rows="3">{{ calificacion.comentario }}</textarea>
    </div>

    <button class="btn btn-primary" type="submit">Actualizar</button>
    <a href="{% url 'ver_calificacion' %}" class="btn btn-secondary">Cancelar</a>
  </form>
</div>

{% endblock %}
